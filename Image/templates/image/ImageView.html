{% extends "image/base.html" %}
{% load static %}

{% block title %}
Image View
{% endblock title %}

{% block content %}
<div class="container-fluid ">
    <div class="row justify-content-center">
        <div class="col-lg-8 text-center">

            {% if current_image %}
           
                <img src="{{ current_image.Image.url }}"
                     class="img-fluid rounded mb-4 shadow"
                     style="max-height: 400px;"
                     alt="Image {{ current_image.id }}">

             
                <div class="d-flex justify-content-between align-items-center flex-wrap mb-3 px-2">

                    <div class="d-flex flex-wrap gap-2">
                        <span class="bg-primary text-white rounded px-3 py-1">
                            Size: {{ current_image.size_mb|floatformat:3 }} MB
                        </span>
                        <span class="bg-primary text-white rounded px-3 py-1">
                            Created Date: {{ current_image.Created_at }}
                        </span>
                    </div>

                    <a href="{% url 'ImgDel' %}?Imid={{ current_image.id }}{% if aid is not None %}&aid={{ aid }}{% endif %}"
                       class="btn btn-danger btn-sm"
                       onclick="return confirm('Are you sure you want to trash this image?');">
                        Trash
                    </a>
                </div>

              
                <div class="d-flex justify-content-between">
                    {% if previous_image %}
                        <a href="{% url 'ImageView' %}?i={{ previous_image.id }}{% if aid is not None %}&aid={{ aid }}{% endif %}"
                           class="btn btn-primary">
                            &larr; Previous
                        </a>
                    {% else %}
                        <span></span>
                    {% endif %}

                    {% if next_image %}
                        <a href="{% url 'ImageView' %}?i={{ next_image.id }}{% if aid is not None %}&aid={{ aid }}{% endif %}"
                           class="btn btn-primary">
                            Next &rarr;
                        </a>
                    {% endif %}
                </div>
            {% else %}
                <div class="alert alert-warning mt-4" role="alert">
                    No image found.
                </div>
            {% endif %}

        </div>
    </div>
</div>
{% endblock content %}
